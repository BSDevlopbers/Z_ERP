@model Z_ERP.Models.hr_Employees

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Edit</title>
    <style>
      /*!
// CSS only Responsive Tables
// http://dbushell.com/2016/03/04/css-only-responsive-tables/
// by David Bushell
*/
.rtable {
  /*!
  // IE needs inline-block to position scrolling shadows otherwise use:
  // display: block;
  // max-width: min-content;
  */
  display: inline-block;
  vertical-align: top;
  max-width: 100%;
  overflow-x: auto;
  white-space: nowrap;
  border-collapse: collapse;
  border-spacing: 0;
}

.rtable,
.rtable--flip tbody {
  -webkit-overflow-scrolling: touch;
  background: radial-gradient(left, ellipse, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 75%) 0 center, radial-gradient(right, ellipse, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 75%) 100% center;
  background-size: 10px 100%, 10px 100%;
  background-attachment: scroll, scroll;
  background-repeat: no-repeat;
}

.rtable td:first-child,
.rtable--flip tbody tr:first-child {
  background-image: -webkit-gradient(linear, left top, right top, color-stop(50%, white), to(rgba(255, 255, 255, 0)));
  background-image: linear-gradient(to right, white 50%, rgba(255, 255, 255, 0) 100%);
  background-repeat: no-repeat;
  background-size: 20px 100%;
}

.rtable td:last-child,
.rtable--flip tbody tr:last-child {
  background-image: -webkit-gradient(linear, right top, left top, color-stop(50%, white), to(rgba(255, 255, 255, 0)));
  background-image: linear-gradient(to left, white 50%, rgba(255, 255, 255, 0) 100%);
  background-repeat: no-repeat;
  background-position: 100% 0;
  background-size: 20px 100%;
}

.rtable th {
  font-size: 11px;
  text-align: left;
  text-transform: uppercase;
  background: #f2f0e6;
}

.rtable th,
.rtable td {
  padding: 6px 12px;
  border: 1px solid #d9d7ce;
}

.rtable--flip {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  overflow: hidden;
  background: none;
}

.rtable--flip thead {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -ms-flex-negative: 0;
      flex-shrink: 0;
  min-width: -webkit-min-content;
  min-width: -moz-min-content;
  min-width: min-content;
}

.rtable--flip tbody {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  position: relative;
  overflow-x: auto;
  overflow-y: hidden;
}

.rtable--flip tr {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
      -ms-flex-direction: column;
          flex-direction: column;
  min-width: -webkit-min-content;
  min-width: -moz-min-content;
  min-width: min-content;
  -ms-flex-negative: 0;
      flex-shrink: 0;
}

.rtable--flip td,
.rtable--flip th {
  display: block;
}

.rtable--flip td {
  background-image: none !important;
  border-left: 0;
}

.rtable--flip th:not(:last-child),
.rtable--flip td:not(:last-child) {
  border-bottom: 0;
}
</style>
</head>
<body>

    <div class="container-fluid">
        
        <table class="rtable">
            <thead>
                <tr>
                    <th>الاسم</th>
                    <th>العنوان</th>
                    <th>رقم الهاتف</th>
                    <th>القسم</th>
                    <th>الوظيفة</th>
                    <th>الحالة</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td> @Html.DisplayFor(model => model.EmployeeFullName) </td>
                    <td> @Html.DisplayFor(model => model.EmployeeAddress) </td>
                    <td> @Html.DisplayFor(model => model.EmployeePhone) </td>
                    <td> @ViewBag.EmployeeDepartment</td>
                    <td> @ViewBag.EmployeeJob</td>
                    <td> @ViewBag.EmployeeStatus</td>
                </tr>
            </tbody>
        </table>
    </div>
            <div class="form-horizontal">
               

                
                

                <div class="col-md-12">
                    <br />
                    <table id="myDatatable" class="table  table-bordered table-striped">
                        <thead>المرتب الاساسي     :     </thead>
                        <thead class="col-md-4 text-right">@ViewBag.BasicSalary جنيه</thead>
                        
                        </table>
</div>
                <div class="col-md-12">
                    <div class="col-md-6">
                        العلاوات
                        <br />
                        <table id="allownace" class="rtable">
                            <tr><td>awad</td><td>43</td></tr>
                            <tr><td>awad</td><td>43</td></tr>
                        </table>



                    </div>
                    <div class="col-md-6">
                        الاستقطاعات
                        <br />
                        <table id="deducation" class="rtable">
                            <tr><td>ds</td><td>43</td></tr>
                        </table>
                        <br />

                    </div>
                </div>
                <br />
                <div class="col-md-12">
                    <div class="col-md-6" style="border-left:2px">
                        <br />
                        <table id="myDatatable" class="table  table-bordered table-striped">
                            <thead>إجمالي العلاوات</thead>
                            <thead class="col-md-4 text-right">@ViewBag.EmployeesSalaryAllownace جنيه</thead>

                        </table>
                    </div>
                    <div class="col-md-6">
                        <br />
                        <table id="myDatatable" class="table  table-bordered table-striped">
                            <thead>إجمالي الاستقطاعات    :    </thead>
                            <thead class="col-md-4 text-right">@ViewBag.EmployeesSalarydeducate جنيه</thead>

                        </table>
                    </div>
                </div>

                <div class="col-md-12">
                    <br />
                    
                        <table id="myDatatable" class="table  table-bordered table-striped">
                            <thead>صافي المرتب</thead>
                            <thead class="col-md-4 text-right">@ViewBag.PureSalary جنيه</thead>

                        </table>
                    
                </div>

            </div>
    <div class="clearfix"></div>
</body>
</html>

<script type="text/javascript">

        $(document).ready(function () {
            getSubCategories(1, @Model.EmployeeID,"allownace");
            getSubCategories(2, @Model.EmployeeID,"deducation");
        function getSubCategories(CategoryID, EmployeeID,AorD) {
            $("#allownace").empty();
            $("#deducation").empty();

            $.ajax({
                type: 'GET',
                "url": '/EmpDedicationAllowance/GetDeducationAndAllownaceData/?empId='+@Model.EmployeeID+'&CategoryID='+CategoryID,
                dataType: 'json',
                success: function (data) {
                    Object.keys(data).forEach(function(jB){
                        var arr = data[jB];
                        console.log(arr); //will print the array belongs to each property.
                        for (i=0;i<arr.length;i++){
                            //alert(arr[i].DedicationAllowanceListName);
                            $("#"+AorD+"").append('<tr><td>'
                                + arr[i].DedicationAllowanceListName +
                                '</td><td>'+ arr[i].EmpBatchValue +'</td></tr>');
                        }
                    });
                },
                error: function (ex) {
                    //alert('Failed to retrieve states.' + ex);
                }
            });
            return false;
            ////////

    }

        });

</script>